(this.webpackJsonpreact_2hr=this.webpackJsonpreact_2hr||[]).push([[0],{177:function(e,t,c){},179:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(78),a=c.n(n),i=c(87),o=c(15),s=c(204),d=c(21),p=c(29),u=c.n(p),l=c(56),j=c(91),x=c.n(j),b="PRODUCTS_REQUEST",h="PRODUCTS_SUCCESS",f="PRODUCTS_FAIL",O="SINGLE_PRODUCT_REQUEST",g="SINGLE_PRODUCT_SUCCESS",m="SINGLE_PRODUCT_FAIL",y="RELATED_PRODUCT_REQUEST",v="RELATED_PRODUCT_SUCCESS",S="RELATED_PRODUCT_FAIL",w=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(c){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:O}),t.prev=1,t.next=4,x.a.get("https://fakestoreapi.com/products/".concat(e));case 4:r=t.sent,n=r.data,c({type:g,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c({type:m,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(c){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:y}),t.prev=1,t.next=4,x.a.get("https://fakestoreapi.com/products/category/".concat(e));case 4:r=t.sent,n=r.data,c({type:v,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c({type:m,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},C=c(47),E=c(212),k=c(201),_=c(203),T=c(205),R=c(61),P=c(6),D=function(e){var t=e.id,c=e.image,r=e.title,n=e.price,a=Object(d.b)(),i=Object(d.c)((function(e){return e.singleProduct})),p=(i.loading,i.product),u=(i.error,Object(d.c)((function(e){return e.relatedProducts})).products,Object(o.f)());return Object(P.jsxs)(k.a,{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"280px",p:"25px",border:"3px solid #111",borderRadius:"20px",gridGap:"10px",onClick:function(){return function(e){u.push("/product/".concat(e)),a(w(e)),a(I(p.category))}(t)},children:[Object(P.jsx)(E.a,{src:c,width:"130px",height:"150px",alignSelf:"center",objectFit:"contain"}),Object(P.jsx)(_.a,{fontWeight:"500",children:r}),Object(P.jsxs)(s.a,{direction:"column",children:[Object(P.jsxs)(_.a,{children:["$ - ",n]}),Object(P.jsx)(T.a,{display:"flex",mt:"2",alignItems:"center",children:[0,1,2,3,4].map((function(e,t){return Object(P.jsx)(R.c,{style:{color:"gold"}},t)}))})]}),Object(P.jsx)(C.a,{colorScheme:"teal",size:"md",children:"Add to card"})]})},W=c(209),z=function(){return Object(P.jsx)(W.a,{width:"280px",height:"300px",borderRadius:"20px"})},U="ADD_TO_CART",N="REMOVE_FROM_CART",G="CART_EMPTY",A=function(e,t,c,r){return function(){var n=Object(l.a)(u.a.mark((function n(a,i){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t&&a({type:U,payload:{productId:e,product:t,price:c,qty:r}}),localStorage.setItem("fakestore",JSON.stringify(i().cart.cartItems));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},L=function(){var e=Object(d.c)((function(e){return e.products})),t=e.loading,c=e.products;e.error;console.log(c);var n=Object(d.b)();return Object(r.useEffect)((function(){n(function(){var e=Object(l.a)(u.a.mark((function e(t){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hi"),t({type:b}),e.prev=2,e.next=5,x.a.get("https://fakestoreapi.com/products");case 5:c=e.sent,r=c.data,t({type:h,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:f,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){n(A(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(P.jsxs)(s.a,{flexWrap:"wrap",justify:"center",gridGap:"20px",mt:"110px",mb:"40px",mx:"100px",children:[t&&[0,1,2,3,4,5,6,7].map((function(e,t){return Object(P.jsx)(z,{},t)})),c.map((function(e){return Object(P.jsx)(D,{id:e.id,image:e.image,title:e.title,price:e.price},e.id)}))]})},F=c(211),q=c(133),J=function(){var e=Object(d.c)((function(e){return e.cart})).cartItems;return Object(P.jsxs)(s.a,{bgColor:"gray.400",p:"20px 60px",position:"fixed",top:"0",left:"0",w:"100vw",align:"center",justify:"space-between",zIndex:"1000",children:[Object(P.jsx)(_.a,{fontSize:"2xl",fontWeight:"900",cursor:"pointer",w:"150px",children:Object(P.jsx)(i.b,{to:"/",children:"FakeStore"})}),Object(P.jsxs)(s.a,{gridGap:"25px",children:[Object(P.jsx)(_.a,{cursor:"pointer",children:"Home"}),Object(P.jsx)(_.a,{cursor:"pointer",children:"Category"}),Object(P.jsxs)(s.a,{align:"center",cursor:"pointer",children:[Object(P.jsx)(q.a,{style:{fontSize:"22px"}}),Object(P.jsx)(F.a,{ml:"5px",size:"sm",variant:"solid",colorScheme:"teal",children:null===e||void 0===e?void 0:e.length})]})]})]})},$=c(207),M=function(){var e=Object(o.g)().id,t=Object(d.b)(),c=Object(o.f)(),n=Object(d.c)((function(e){return e.singleProduct})),a=n.loading,i=n.product,p=(n.error,Object(d.c)((function(e){return e.relatedProducts})).products);Object(r.useEffect)((function(){i.category||t(w(e)),i.category&&(console.log(i.category),t(I(i.category)))}),[i.category]);return Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){t(A(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(P.jsx)(s.a,{mt:"110px",mb:"40px",mx:"120",children:a?Object(P.jsx)("h2",{children:"Loading ..."}):Object(P.jsxs)(s.a,{direction:"column",width:"100%",gridgap:"30px",children:[Object(P.jsxs)(s.a,{justify:"space-evenly",align:"center",width:"100%",direction:["column","column","row","row"],children:[Object(P.jsx)(E.a,{src:i.image,height:["100px","100px","200px","300px"],width:"auto",objectFit:"contain"}),Object(P.jsx)(s.a,{direction:"row",gridgap:"15px",width:"400px",mt:"50px",children:Object(P.jsxs)(s.a,{direction:"column",align:"center",gridGap:"15px",children:[Object(P.jsxs)(F.a,{size:"md",variant:"outline",children:["Category - ",i.category]}),Object(P.jsx)(R.b,{style:{fontSize:"22px",color:"red",cursor:"pointer"}}),Object(P.jsx)(_.a,{fontSize:"20px",fontWeight:"700",children:i.title}),Object(P.jsxs)(_.a,{fontSize:"16px",fontWeight:"500",children:["$ ",i.price]}),Object(P.jsx)(_.a,{fontSize:"16px",children:i.description}),Object(P.jsxs)(s.a,{gridgrap:"20px",children:[Object(P.jsx)(C.a,{colorScheme:"teal",mr:"20px",onClick:function(){return t(A(i.id,i,i.price,1)),void c.push("/cart")},children:"Add To Cart"}),Object(P.jsx)(C.a,{colorScheme:"teal",variant:"outline",children:"Buy Now"})]})]})})]}),Object(P.jsx)($.a,{}),Object(P.jsx)(_.a,{fontSize:"20px",fontWeight:"700",children:"Related Products"}),Object(P.jsx)(s.a,{flexWrap:"wrap",justify:"center",gridGap:"20px",mb:"40px",children:p.map((function(e){return Object(P.jsx)(D,{id:e.id,image:e.image,title:e.title,price:e.price},e.id)}))})]})})},Q=c(7),B=c(213),H=function(){var e,t=Object(d.c)((function(e){return e.cart})).cartItems,c=Object(d.b)();Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){c(A(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");e=JSON.parse(e),console.log(e)}),[]);var n=function(e){var t;c((t=e,function(){var e=Object(l.a)(u.a.mark((function e(c,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:N,payload:{productId:t}}),localStorage.setItem("fakestore",JSON.stringify(r().cart.cartItems));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()))},a=t.reduce((function(e,t){return e+t.price*t.qty}),0),i=a>500?.1*a:0,o=.05*a;return Object(P.jsxs)(s.a,{mt:"110px",mb:"40px",mx:"100px",direction:"column",align:"center",gridGap:"70px",justify:"space-between",children:[Object(P.jsxs)(B.a,(e={variant:"simple",width:"100%",size:["lg","lg","lg","sm"]},Object(Q.a)(e,"width","100vw"),Object(Q.a)(e,"children",[Object(P.jsx)(B.b,{children:"Thanks for shopping with us. Here is your cart!"}),Object(P.jsx)(B.f,{fontSize:{lg:"md",sm:"xs"},gridGap:"5px",width:"100%",justifyContent:"space-between",children:Object(P.jsxs)(B.g,{gridGap:"5px",children:[Object(P.jsx)(B.e,{paddingLeft:"10px",children:"Image"}),Object(P.jsx)(B.e,{children:"Name"}),Object(P.jsx)(B.e,{children:"Quantity"}),Object(P.jsx)(B.e,{children:"Total Price"}),Object(P.jsx)(B.e,{children:"Actions"})]})}),Object(P.jsx)(B.c,{fontSize:{lg:"md",sm:"xs"},children:t.map((function(e,t){return Object(P.jsxs)(B.g,{children:[Object(P.jsx)(B.d,{children:Object(P.jsx)(E.a,{src:e.product.image,h:"100px"})}),Object(P.jsx)(B.d,{children:Object(P.jsx)(_.a,{children:e.product.title})}),Object(P.jsx)(B.d,{children:Object(P.jsxs)(s.a,{justifyContent:"space-around",align:"center",gridGrap:"10px",children:[Object(P.jsx)(C.a,{padding:"10px",onClick:function(){return function(e){e.qty>1&&c(A(e.productId,e.product,e.price,e.qty-1))}(e)},children:"-"}),Object(P.jsx)(_.a,{children:e.qty}),Object(P.jsx)(C.a,{padding:"10px",onClick:function(){return function(e){c(A(e.productId,e.product,e.price,e.qty+1))}(e)},children:"+"})]})}),Object(P.jsx)(B.d,{children:Object(P.jsxs)(_.a,{children:["$ ",(e.price*e.qty).toFixed(2)]})}),Object(P.jsx)(B.d,{children:Object(P.jsx)(R.a,{style:{fontSize:"30px",cursor:"pointer"},onClick:function(){return n(e.productId)}})})]})}))})]),e)),Object(P.jsxs)(s.a,{direction:"column",gridGap:"20px",children:[Object(P.jsx)(_.a,{fontWeight:"700",fontSize:"20px",children:"Order Summary"}),Object(P.jsxs)(s.a,{direction:"column",width:"350px",shadow:"lg",p:"20px",borderRadius:"10px",gridGap:"15px",children:[Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Item Price"}),Object(P.jsxs)(_.a,{fontWeight:"500",children:["$ ",a.toFixed(2)]})]}),Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Discount Price"}),Object(P.jsxs)(_.a,{fontWeight:"500",children:["$ ",i.toFixed(2)]})]}),Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Tax Price"}),Object(P.jsxs)(_.a,{fontWeight:"500",children:["$ ",o.toFixed(2)]})]}),Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Delivery Price"}),Object(P.jsx)(_.a,{fontWeight:"500",children:"$ 10"})]}),Object(P.jsx)($.a,{}),Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Total Price"}),Object(P.jsx)(_.a,{fontWeight:"500",children:"$"})]}),Object(P.jsx)(C.a,{colorScheme:"teal",children:"Checkout Now"})]})]})]})},V=function(){return Object(P.jsxs)(i.a,{basename:"/ecommerce-site-v2",children:[Object(P.jsx)(J,{}),Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{path:"/",exact:!0,component:L}),Object(P.jsx)(o.a,{path:"/product/:id",component:M}),Object(P.jsx)(o.a,{path:"/cart",component:H})]})]})},X=(c(177),c(63)),Y=c(135),K=c(10),Z=c(51),ee=Object(X.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case b:return{loading:!0,products:[]};case h:return{loading:!1,products:r};case f:return{loading:!1,error:r};default:return e}},singleProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case O:return{loading:!0,product:{}};case g:return{loading:!1,product:r};case m:return{loading:!1,error:r};default:return e}},relatedProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case y:return{loading:!0,products:[]};case v:return{loading:!1,products:r};case S:return{loading:!1,error:r};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case U:var n=r,a=e.cartItems.find((function(e){return e.productId===n.productId}));return a?(console.log("yes"),console.log(n.productId),Object(Z.a)(Object(Z.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.productId===n.productId?n:e}))})):Object(Z.a)(Object(Z.a)({},e),{},{cartItems:[].concat(Object(K.a)(e.cartItems),[n])});case N:return Object(Z.a)(Object(Z.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.productId!==r.productId}))});case G:return Object(Z.a)(Object(Z.a)({},e),{},{cartItems:[]});default:return e}}}),te={cart:{cartItems:localStorage.getItem("fakeStoreCart")?JSON.parse(localStorage.getItem("fakeStoreCart")):[]}},ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.c,re=Object(X.d)(ee,te,ce(Object(X.a)(Y.a))),ne=c(210);a.a.render(Object(P.jsx)(d.a,{store:re,children:Object(P.jsx)(ne.a,{children:Object(P.jsx)(V,{})})}),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.1b691b5f.chunk.js.map