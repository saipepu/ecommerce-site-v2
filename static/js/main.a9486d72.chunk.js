(this.webpackJsonpreact_2hr=this.webpackJsonpreact_2hr||[]).push([[0],{147:function(e,t,c){},148:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(65),a=c.n(n),i=c(74),o=c(12),s=c(162),d=c(20),p=c(22),u=c.n(p),j=c(47),l=c(75),x=c.n(l),h="PRODUCTS_REQUEST",b="PRODUCTS_SUCCESS",O="PRODUCTS_FAIL",f="SINGLE_PRODUCT_REQUEST",g="SINGLE_PRODUCT_SUCCESS",m="SINGLE_PRODUCT_FAIL",y="RELATED_PRODUCT_REQUEST",v="RELATED_PRODUCT_SUCCESS",S="RELATED_PRODUCT_FAIL",I=c(37),w=c(168),C=c(159),E=c(161),k=c(163),_=c(51),T=c(5),R=function(e){var t=e.id,c=e.image,r=e.title,n=e.price,a=Object(o.f)();return Object(T.jsxs)(C.a,{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"280px",p:"25px",border:"3px solid #111",borderRadius:"20px",gridGap:"10px",onClick:function(){return function(e){a.push("product/".concat(e))}(t)},children:[Object(T.jsx)(w.a,{src:c,width:"130px",height:"150px",alignSelf:"center",objectFit:"contain"}),Object(T.jsx)(E.a,{fontWeight:"500",children:r}),Object(T.jsxs)(s.a,{direction:"column",children:[Object(T.jsxs)(E.a,{children:["$ - ",n]}),Object(T.jsx)(k.a,{display:"flex",mt:"2",alignItems:"center",children:[0,1,2,3,4].map((function(e,t){return Object(T.jsx)(_.c,{style:{color:"gold"}},t)}))})]}),Object(T.jsx)(I.a,{colorScheme:"teal",size:"md",children:"Add to card"})]})},P=c(166),D=function(){return Object(T.jsx)(P.a,{width:"280px",height:"300px",borderRadius:"20px"})},W="ADD_TO_CART",U="REMOVE_FROM_CART",N="CART_EMPTY",z=function(e,t,c,r){return function(){var n=Object(j.a)(u.a.mark((function n(a,i){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t&&a({type:W,payload:{productId:e,product:t,price:c,qty:r}}),localStorage.setItem("fakestore",JSON.stringify(i().cart.cartItems));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},A=function(){var e=Object(d.c)((function(e){return e.products})),t=e.loading,c=e.products;e.error;console.log(c);var n=Object(d.b)();return Object(r.useEffect)((function(){n(function(){var e=Object(j.a)(u.a.mark((function e(t){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hi"),t({type:h}),e.prev=2,e.next=5,x.a.get("https://fakestoreapi.com/products");case 5:c=e.sent,r=c.data,t({type:b,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:O,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){n(z(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(T.jsxs)(s.a,{flexWrap:"wrap",justify:"center",gridGap:"20px",mt:"110px",mb:"40px",mx:"100px",children:[t&&[0,1,2,3,4,5,6,7].map((function(e,t){return Object(T.jsx)(D,{},t)})),c.map((function(e){return Object(T.jsx)(R,{id:e.id,image:e.image,title:e.title,price:e.price},e.id)}))]})},G=c(167),L=c(109),q=function(){var e=Object(d.c)((function(e){return e.cart})).cartItems;return Object(T.jsxs)(s.a,{bgColor:"gray.400",p:"20px 60px",position:"fixed",top:"0",left:"0",w:"100vw",align:"center",justify:"space-between",zIndex:"1000",children:[Object(T.jsx)(E.a,{fontSize:"2xl",fontWeight:"900",cursor:"pointer",w:"150px",children:Object(T.jsx)(i.b,{to:"/",children:"FakeStore"})}),Object(T.jsxs)(s.a,{gridGap:"25px",children:[Object(T.jsx)(E.a,{cursor:"pointer",children:"Home"}),Object(T.jsx)(E.a,{cursor:"pointer",children:"Category"}),Object(T.jsxs)(s.a,{align:"center",cursor:"pointer",children:[Object(T.jsx)(L.a,{style:{fontSize:"22px"}}),Object(T.jsx)(G.a,{ml:"5px",size:"sm",variant:"solid",colorScheme:"teal",children:null===e||void 0===e?void 0:e.length})]})]})]})},J=c(165),$=function(){var e=Object(o.g)().id,t=Object(d.b)(),c=Object(o.f)(),n=Object(d.c)((function(e){return e.singleProduct})),a=n.loading,i=n.product,p=(n.error,Object(d.c)((function(e){return e.relatedProducts})).products);Object(r.useEffect)((function(){var c;i.category||t(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(c){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:f}),t.prev=1,t.next=4,x.a.get("https://fakestoreapi.com/products/".concat(e));case 4:r=t.sent,n=r.data,c({type:g,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c({type:m,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e)),i.category&&(console.log(i.category),t((c=i.category,function(){var e=Object(j.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.prev=1,e.next=4,x.a.get("https://fakestoreapi.com/products/category/".concat(c));case 4:r=e.sent,n=r.data,t({type:v,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:m,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())))}),[i.category]);return Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){t(z(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(T.jsx)(s.a,{mt:"110px",mb:"40px",mx:"120",children:a?Object(T.jsx)("h2",{children:"Loading ..."}):Object(T.jsxs)(s.a,{direction:"column",width:"100%",gridgap:"30px",children:[Object(T.jsxs)(s.a,{justify:"space-evenly",width:"100%",children:[Object(T.jsx)(w.a,{src:i.image,width:"300px"}),Object(T.jsx)(s.a,{direction:"row",gridgap:"15px",width:"400px",mt:"50px",children:Object(T.jsxs)(s.a,{direction:"column",align:"center",gridGap:"15px",children:[Object(T.jsxs)(G.a,{size:"md",variant:"outline",children:["Category - ",i.category]}),Object(T.jsx)(_.b,{style:{fontSize:"22px",color:"red",cursor:"pointer"}}),Object(T.jsx)(E.a,{fontSize:"20px",fontWeight:"700",children:i.title}),Object(T.jsxs)(E.a,{fontSize:"16px",fontWeight:"500",children:["$ ",i.price]}),Object(T.jsx)(E.a,{fontSize:"16px",children:i.description}),Object(T.jsxs)(s.a,{gridgrap:"20px",children:[Object(T.jsx)(I.a,{colorScheme:"teal",mr:"20px",onClick:function(){return t(z(i.id,i,i.price,1)),void c.push("/cart")},children:"Add To Cart"}),Object(T.jsx)(I.a,{colorScheme:"teal",variant:"outline",children:"Buy Now"})]})]})})]}),Object(T.jsx)(J.a,{}),Object(T.jsx)(E.a,{fontSize:"20px",fontWeight:"700",children:"Related Products"}),Object(T.jsx)(s.a,{flexWrap:"wrap",justify:"center",gridGap:"20px",mb:"40px",children:p.map((function(e){return Object(T.jsx)(R,{id:e.id,image:e.image,title:e.title,price:e.price},e.id)}))})]})})},F=c(169),M=function(){var e=Object(d.c)((function(e){return e.cart})).cartItems,t=Object(d.b)();Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){t(z(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");e=JSON.parse(e),console.log(e)}),[]);var c=function(e){var c;t((c=e,function(){var e=Object(j.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:U,payload:{productId:c}}),localStorage.setItem("fakestore",JSON.stringify(r().cart.cartItems));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()))};return Object(T.jsxs)(s.a,{mt:"110px",mb:"40px",mx:"100px",direction:"column",align:"center",gridGap:"70px",justify:"space-between",children:[Object(T.jsxs)(F.a,{variant:"simple",width:"100%",children:[Object(T.jsx)(F.b,{children:"Thanks for shopping with us. Here is your cart!"}),Object(T.jsx)(F.f,{children:Object(T.jsxs)(F.g,{children:[Object(T.jsx)(F.e,{children:"Image"}),Object(T.jsx)(F.e,{children:"Name"}),Object(T.jsx)(F.e,{children:"Quantity"}),Object(T.jsx)(F.e,{children:"Total Price"}),Object(T.jsx)(F.e,{children:"Actions"})]})}),Object(T.jsx)(F.c,{children:e.map((function(e,r){return Object(T.jsxs)(F.g,{children:[Object(T.jsx)(F.d,{children:Object(T.jsx)(w.a,{src:e.product.image,h:"100px"})}),Object(T.jsx)(F.d,{children:Object(T.jsx)(E.a,{children:e.product.title})}),Object(T.jsx)(F.d,{children:Object(T.jsxs)(s.a,{justifyContent:"space-around",align:"center",gridGrap:"10px",children:[Object(T.jsx)(I.a,{padding:"10px",onClick:function(){return function(e){e.qty>1&&t(z(e.productId,e.product,e.price,e.qty-1))}(e)},children:"-"}),Object(T.jsx)(E.a,{children:e.qty}),Object(T.jsx)(I.a,{padding:"10px",onClick:function(){return function(e){t(z(e.productId,e.product,e.price,e.qty+1))}(e)},children:"+"})]})}),Object(T.jsx)(F.d,{children:Object(T.jsxs)(E.a,{children:["$ ",(e.price*e.qty).toFixed(2)]})}),Object(T.jsx)(F.d,{children:Object(T.jsx)(_.a,{style:{fontSize:"30px",cursor:"pointer"},onClick:function(){return c(e.productId)}})})]})}))})]}),Object(T.jsxs)(s.a,{direction:"column",gridGap:"20px",children:[Object(T.jsx)(E.a,{fontWeight:"700",fontSize:"20px",children:"Order Summary"}),Object(T.jsxs)(s.a,{direction:"column",width:"350px",shadow:"lg",p:"20px",borderRadius:"10px",gridGap:"15px",children:[Object(T.jsxs)(s.a,{justify:"space-between",children:[Object(T.jsx)(E.a,{fontWeight:"500",children:"Item Price"}),Object(T.jsx)(E.a,{fontWeight:"500",children:"$ "})]}),Object(T.jsxs)(s.a,{justify:"space-between",children:[Object(T.jsx)(E.a,{fontWeight:"500",children:"Discount Price"}),Object(T.jsx)(E.a,{fontWeight:"500",children:"$ "})]}),Object(T.jsxs)(s.a,{justify:"space-between",children:[Object(T.jsx)(E.a,{fontWeight:"500",children:"Tax Price"}),Object(T.jsx)(E.a,{fontWeight:"500",children:"$ "})]}),Object(T.jsxs)(s.a,{justify:"space-between",children:[Object(T.jsx)(E.a,{fontWeight:"500",children:"Delivery Price"}),Object(T.jsx)(E.a,{fontWeight:"500",children:"$ 10"})]}),Object(T.jsx)(J.a,{}),Object(T.jsxs)(s.a,{justify:"space-between",children:[Object(T.jsx)(E.a,{fontWeight:"500",children:"Total Price"}),Object(T.jsx)(E.a,{fontWeight:"500",children:"$"})]}),Object(T.jsx)(I.a,{colorScheme:"teal",children:"Checkout Now"})]})]})]})},Q=function(){return Object(T.jsxs)(i.a,{basename:"/ecommerce-site-v2",children:[Object(T.jsx)(q,{}),Object(T.jsxs)(o.c,{children:[Object(T.jsx)(o.a,{path:"/",exact:!0,component:A}),Object(T.jsx)(o.a,{path:"/product/:id",component:$}),Object(T.jsx)(o.a,{path:"/cart",component:M})]})]})},B=(c(147),c(53)),H=c(111),V=c(9),X=c(40),Y=Object(B.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case h:return{loading:!0,products:[]};case b:return{loading:!1,products:r};case O:return{loading:!1,error:r};default:return e}},singleProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case f:return{loading:!0,product:{}};case g:return{loading:!1,product:r};case m:return{loading:!1,error:r};default:return e}},relatedProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case y:return{loading:!0,products:[]};case v:return{loading:!1,products:r};case S:return{loading:!1,error:r};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case W:var n=r,a=e.cartItems.find((function(e){return e.productId===n.productId}));return a?(console.log("yes"),console.log(n.productId),Object(X.a)(Object(X.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.productId===n.productId?n:e}))})):Object(X.a)(Object(X.a)({},e),{},{cartItems:[].concat(Object(V.a)(e.cartItems),[n])});case U:return Object(X.a)(Object(X.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.productId!==r.productId}))});case N:return Object(X.a)(Object(X.a)({},e),{},{cartItems:[]});default:return e}}}),K={cart:{cartItems:localStorage.getItem("fakeStoreCart")?JSON.parse(localStorage.getItem("fakeStoreCart")):[]}},Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||B.c,ee=Object(B.d)(Y,K,Z(Object(B.a)(H.a)));a.a.render(Object(T.jsx)(d.a,{store:ee,children:Object(T.jsx)(Q,{})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.a9486d72.chunk.js.map