(this.webpackJsonpreact_2hr=this.webpackJsonpreact_2hr||[]).push([[0],{147:function(e,t,c){},148:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(65),a=c.n(n),i=c(74),o=c(12),s=c(162),d=c(17),u=c(22),p=c.n(u),j=c(47),l=c(75),x=c.n(l),b="PRODUCTS_REQUEST",h="PRODUCTS_SUCCESS",f="PRODUCTS_FAIL",O="SINGLE_PRODUCT_REQUEST",g="SINGLE_PRODUCT_SUCCESS",m="SINGLE_PRODUCT_FAIL",y="RELATED_PRODUCT_REQUEST",v="RELATED_PRODUCT_SUCCESS",S="RELATED_PRODUCT_FAIL",I=function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:O}),t.prev=1,t.next=4,x.a.get("https://fakestoreapi.com/products/".concat(e));case 4:r=t.sent,n=r.data,c({type:g,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c({type:m,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(j.a)(p.a.mark((function t(c){var r,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:y}),t.prev=1,t.next=4,x.a.get("https://fakestoreapi.com/products/category/".concat(e));case 4:r=t.sent,n=r.data,c({type:v,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c({type:m,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},C=c(37),E=c(168),k=c(159),_=c(161),T=c(163),R=c(51),P=c(5),D=function(e){var t=e.id,c=e.image,r=e.title,n=e.price,a=Object(d.b)(),i=Object(d.c)((function(e){return e.singleProduct})),u=(i.loading,i.product),p=(i.error,Object(d.c)((function(e){return e.relatedProducts})).products,Object(o.f)());return Object(P.jsxs)(k.a,{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"280px",p:"25px",border:"3px solid #111",borderRadius:"20px",gridGap:"10px",onClick:function(){return function(e){p.push("/product/".concat(e)),a(I(e)),a(w(u.category))}(t)},children:[Object(P.jsx)(E.a,{src:c,width:"130px",height:"150px",alignSelf:"center",objectFit:"contain"}),Object(P.jsx)(_.a,{fontWeight:"500",children:r}),Object(P.jsxs)(s.a,{direction:"column",children:[Object(P.jsxs)(_.a,{children:["$ - ",n]}),Object(P.jsx)(T.a,{display:"flex",mt:"2",alignItems:"center",children:[0,1,2,3,4].map((function(e,t){return Object(P.jsx)(R.c,{style:{color:"gold"}},t)}))})]}),Object(P.jsx)(C.a,{colorScheme:"teal",size:"md",children:"Add to card"})]})},W=c(166),U=function(){return Object(P.jsx)(W.a,{width:"280px",height:"300px",borderRadius:"20px"})},N="ADD_TO_CART",z="REMOVE_FROM_CART",A="CART_EMPTY",G=function(e,t,c,r){return function(){var n=Object(j.a)(p.a.mark((function n(a,i){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t&&a({type:N,payload:{productId:e,product:t,price:c,qty:r}}),localStorage.setItem("fakestore",JSON.stringify(i().cart.cartItems));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},L=function(){var e=Object(d.c)((function(e){return e.products})),t=e.loading,c=e.products;e.error;console.log(c);var n=Object(d.b)();return Object(r.useEffect)((function(){n(function(){var e=Object(j.a)(p.a.mark((function e(t){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hi"),t({type:b}),e.prev=2,e.next=5,x.a.get("https://fakestoreapi.com/products");case 5:c=e.sent,r=c.data,t({type:h,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:f,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){n(G(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(P.jsxs)(s.a,{flexWrap:"wrap",justify:"center",gridGap:"20px",mt:"110px",mb:"40px",mx:"100px",children:[t&&[0,1,2,3,4,5,6,7].map((function(e,t){return Object(P.jsx)(U,{},t)})),c.map((function(e){return Object(P.jsx)(D,{id:e.id,image:e.image,title:e.title,price:e.price},e.id)}))]})},q=c(167),F=c(109),J=function(){var e=Object(d.c)((function(e){return e.cart})).cartItems;return Object(P.jsxs)(s.a,{bgColor:"gray.400",p:"20px 60px",position:"fixed",top:"0",left:"0",w:"100vw",align:"center",justify:"space-between",zIndex:"1000",children:[Object(P.jsx)(_.a,{fontSize:"2xl",fontWeight:"900",cursor:"pointer",w:"150px",children:Object(P.jsx)(i.b,{to:"/",children:"FakeStore"})}),Object(P.jsxs)(s.a,{gridGap:"25px",children:[Object(P.jsx)(_.a,{cursor:"pointer",children:"Home"}),Object(P.jsx)(_.a,{cursor:"pointer",children:"Category"}),Object(P.jsxs)(s.a,{align:"center",cursor:"pointer",children:[Object(P.jsx)(F.a,{style:{fontSize:"22px"}}),Object(P.jsx)(q.a,{ml:"5px",size:"sm",variant:"solid",colorScheme:"teal",children:null===e||void 0===e?void 0:e.length})]})]})]})},$=c(165),M=function(){var e=Object(o.g)().id,t=Object(d.b)(),c=Object(o.f)(),n=Object(d.c)((function(e){return e.singleProduct})),a=n.loading,i=n.product,u=(n.error,Object(d.c)((function(e){return e.relatedProducts})).products);Object(r.useEffect)((function(){i.category||t(I(e)),i.category&&(console.log(i.category),t(w(i.category)))}),[i.category]);return Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){t(G(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(P.jsx)(s.a,{mt:"110px",mb:"40px",mx:"120",children:a?Object(P.jsx)("h2",{children:"Loading ..."}):Object(P.jsxs)(s.a,{direction:"column",width:"100%",gridgap:"30px",children:[Object(P.jsxs)(s.a,{justify:"space-evenly",width:"100%",children:[Object(P.jsx)(E.a,{src:i.image,width:"300px"}),Object(P.jsx)(s.a,{direction:"row",gridgap:"15px",width:"400px",mt:"50px",children:Object(P.jsxs)(s.a,{direction:"column",align:"center",gridGap:"15px",children:[Object(P.jsxs)(q.a,{size:"md",variant:"outline",children:["Category - ",i.category]}),Object(P.jsx)(R.b,{style:{fontSize:"22px",color:"red",cursor:"pointer"}}),Object(P.jsx)(_.a,{fontSize:"20px",fontWeight:"700",children:i.title}),Object(P.jsxs)(_.a,{fontSize:"16px",fontWeight:"500",children:["$ ",i.price]}),Object(P.jsx)(_.a,{fontSize:"16px",children:i.description}),Object(P.jsxs)(s.a,{gridgrap:"20px",children:[Object(P.jsx)(C.a,{colorScheme:"teal",mr:"20px",onClick:function(){return t(G(i.id,i,i.price,1)),void c.push("/cart")},children:"Add To Cart"}),Object(P.jsx)(C.a,{colorScheme:"teal",variant:"outline",children:"Buy Now"})]})]})})]}),Object(P.jsx)($.a,{}),Object(P.jsx)(_.a,{fontSize:"20px",fontWeight:"700",children:"Related Products"}),Object(P.jsx)(s.a,{flexWrap:"wrap",justify:"center",gridGap:"20px",mb:"40px",children:u.map((function(e){return Object(P.jsx)(D,{id:e.id,image:e.image,title:e.title,price:e.price},e.id)}))})]})})},Q=c(169),B=function(){var e=Object(d.c)((function(e){return e.cart})).cartItems,t=Object(d.b)();Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");null!==(e=JSON.parse(e))&&e.length>0?e.map((function(e){t(G(e.productId,e.product,e.price,e.qty))})):e=[]}),[]),Object(r.useEffect)((function(){var e=localStorage.getItem("fakestore");e=JSON.parse(e),console.log(e)}),[]);var c=function(e){var c;t((c=e,function(){var e=Object(j.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:z,payload:{productId:c}}),localStorage.setItem("fakestore",JSON.stringify(r().cart.cartItems));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()))},n=e.reduce((function(e,t){return e+t.price*t.qty}),0),a=n>500?.1*n:0,i=.05*n;return Object(P.jsxs)(s.a,{mt:"110px",mb:"40px",mx:"100px",direction:"column",align:"center",gridGap:"70px",justify:"space-between",children:[Object(P.jsxs)(Q.a,{variant:"simple",width:"100%",children:[Object(P.jsx)(Q.b,{children:"Thanks for shopping with us. Here is your cart!"}),Object(P.jsx)(Q.f,{children:Object(P.jsxs)(Q.g,{children:[Object(P.jsx)(Q.e,{children:"Image"}),Object(P.jsx)(Q.e,{children:"Name"}),Object(P.jsx)(Q.e,{children:"Quantity"}),Object(P.jsx)(Q.e,{children:"Total Price"}),Object(P.jsx)(Q.e,{children:"Actions"})]})}),Object(P.jsx)(Q.c,{children:e.map((function(e,r){return Object(P.jsxs)(Q.g,{children:[Object(P.jsx)(Q.d,{children:Object(P.jsx)(E.a,{src:e.product.image,h:"100px"})}),Object(P.jsx)(Q.d,{children:Object(P.jsx)(_.a,{children:e.product.title})}),Object(P.jsx)(Q.d,{children:Object(P.jsxs)(s.a,{justifyContent:"space-around",align:"center",gridGrap:"10px",children:[Object(P.jsx)(C.a,{padding:"10px",onClick:function(){return function(e){e.qty>1&&t(G(e.productId,e.product,e.price,e.qty-1))}(e)},children:"-"}),Object(P.jsx)(_.a,{children:e.qty}),Object(P.jsx)(C.a,{padding:"10px",onClick:function(){return function(e){t(G(e.productId,e.product,e.price,e.qty+1))}(e)},children:"+"})]})}),Object(P.jsx)(Q.d,{children:Object(P.jsxs)(_.a,{children:["$ ",(e.price*e.qty).toFixed(2)]})}),Object(P.jsx)(Q.d,{children:Object(P.jsx)(R.a,{style:{fontSize:"30px",cursor:"pointer"},onClick:function(){return c(e.productId)}})})]})}))})]}),Object(P.jsxs)(s.a,{direction:"column",gridGap:"20px",children:[Object(P.jsx)(_.a,{fontWeight:"700",fontSize:"20px",children:"Order Summary"}),Object(P.jsxs)(s.a,{direction:"column",width:"350px",shadow:"lg",p:"20px",borderRadius:"10px",gridGap:"15px",children:[Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Item Price"}),Object(P.jsxs)(_.a,{fontWeight:"500",children:["$ ",n.toFixed(2)]})]}),Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Discount Price"}),Object(P.jsxs)(_.a,{fontWeight:"500",children:["$ ",a.toFixed(2)]})]}),Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Tax Price"}),Object(P.jsxs)(_.a,{fontWeight:"500",children:["$ ",i.toFixed(2)]})]}),Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Delivery Price"}),Object(P.jsx)(_.a,{fontWeight:"500",children:"$ 10"})]}),Object(P.jsx)($.a,{}),Object(P.jsxs)(s.a,{justify:"space-between",children:[Object(P.jsx)(_.a,{fontWeight:"500",children:"Total Price"}),Object(P.jsx)(_.a,{fontWeight:"500",children:"$"})]}),Object(P.jsx)(C.a,{colorScheme:"teal",children:"Checkout Now"})]})]})]})},H=function(){return Object(P.jsxs)(i.a,{basename:"/ecommerce-site-v2",children:[Object(P.jsx)(J,{}),Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{path:"/",exact:!0,component:L}),Object(P.jsx)(o.a,{path:"/product/:id",component:M}),Object(P.jsx)(o.a,{path:"/cart",component:B})]})]})},V=(c(147),c(53)),X=c(111),Y=c(9),K=c(40),Z=Object(V.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case b:return{loading:!0,products:[]};case h:return{loading:!1,products:r};case f:return{loading:!1,error:r};default:return e}},singleProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case O:return{loading:!0,product:{}};case g:return{loading:!1,product:r};case m:return{loading:!1,error:r};default:return e}},relatedProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case y:return{loading:!0,products:[]};case v:return{loading:!1,products:r};case S:return{loading:!1,error:r};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,r=t.payload;switch(c){case N:var n=r,a=e.cartItems.find((function(e){return e.productId===n.productId}));return a?(console.log("yes"),console.log(n.productId),Object(K.a)(Object(K.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.productId===n.productId?n:e}))})):Object(K.a)(Object(K.a)({},e),{},{cartItems:[].concat(Object(Y.a)(e.cartItems),[n])});case z:return Object(K.a)(Object(K.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.productId!==r.productId}))});case A:return Object(K.a)(Object(K.a)({},e),{},{cartItems:[]});default:return e}}}),ee={cart:{cartItems:localStorage.getItem("fakeStoreCart")?JSON.parse(localStorage.getItem("fakeStoreCart")):[]}},te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.c,ce=Object(V.d)(Z,ee,te(Object(V.a)(X.a)));a.a.render(Object(P.jsx)(d.a,{store:ce,children:Object(P.jsx)(H,{})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.f6698568.chunk.js.map